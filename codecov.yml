# For more details on used & additional options refer https://docs.codecov.com/docs/codecovyml-reference#codecov
codecov:
  notify:
    wait_for_ci: false # Report status to PR once ready, do not wait for all CBT/CI checks to pass
  require_ci_to_pass: false # Dont wait for all other statuses to pass before sending its status.

coverage:
  status:
    project:
      default:
        target: auto #overall project/ repo coverage
        threshold: 1%
    patch:
      default:
        # Basic threshold for patch/diff coverage
        target: auto
        threshold: 1%
      controlplane:
        flags:
          - controlplane # https://docs.codecov.com/docs/flags, categorize coverage reports for controlplane 

github_checks:
    annotations: true

comment:
  layout: "newheader, diff, flags, files"
  require_changes: false  # if true: only post the comment if coverage changes
  require_base: false        # [yes :: must have a base report to post]
  require_head: true       # [yes :: must have a head report to post]
  show_carryforward_flags: true 
  hide_comment_details: true #collapse all the "detailed info" for the PR comment
  
flags:
  controlplane:
    carryforward: true

ignore:
    - "vendor/**/*"  # Ignore all files in the vendor directory
    - "**/*_test.go"  # Ignore all Go test files
    - "test"  # Ignore all Go test files
    - "**/*_mock.go"  # Ignore all Go test files
    - "docs"